%div( ui-view )
  %div( ng-if='project' )
    %h2 {{ project.title }}
    %table.table.table-responsive
      %thead
        %td Description
        %td Owner Email
        %td Private
        %td( ng-if='currentUser.isMember || currentUser.isOwner' ) Tasks
        %td( ng-if='currentUser.isOwner' ) Actions
      %tr
        %td( ng-if='project.description')
          {{ project.description }}
        %td( ng-if='!project.description')
          No description given
        %td {{ project.ownerEmail }}
        %td {{ project.private }}
        %td( ng-if='currentUser.isMember || currentUser.isOwner' )
          %a( ui-sref='tasks' )
            .btn.btn-primary.btn-sm Edit Tasks
        %td( ng-if='currentUser.isOwner' )
          %a( ui-sref='project.edit' )
            .btn.btn-success.btn-sm Edit
          .btn.btn-danger.btn-sm( ng-click='delete()' ) Destroy
    %div
      %h4 Members of a project:
      %p( ng-hide='members' ) There is no members except owner
      %div( ng-if='members' )
        %ul( ng-repeat='member in members')
          %li
            {{ member.email }}
            %a( ng-if='currentUser.isOwner' ng-click='removeMember(member.id)' ) 
              .btn.btn-sm.btn-default.small-caps X
      %div( ng-if='usersForInvite.length > 0 && currentUser.isOwner' )
        .col-sm-4( style="padding-left: 0;" )
          .input-group
            %select.form-control( ng-model="selected" ng-options="user.email for user in usersForInvite" )
            .input-group-btn
              .btn.btn-default( ng-click='addMember(selected.id)' ) invite
      %div( ng-if='usersForInvite.length == 0' )
        There is no members to invite
